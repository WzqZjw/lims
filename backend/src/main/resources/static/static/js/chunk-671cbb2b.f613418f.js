(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-671cbb2b"],{"0ad2":function(t,e,a){"use strict";a("79a3")},"634c":function(t,e,a){"use strict";a("b286")},"79a3":function(t,e,a){},"921c":function(t,e,a){"use strict";a("9d33")},"9d33":function(t,e,a){},aa98:function(t,e,a){"use strict";a.d(e,"m",(function(){return s})),a.d(e,"j",(function(){return n})),a.d(e,"k",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"b",(function(){return o})),a.d(e,"o",(function(){return l})),a.d(e,"g",(function(){return d})),a.d(e,"d",(function(){return u})),a.d(e,"h",(function(){return m})),a.d(e,"e",(function(){return v})),a.d(e,"n",(function(){return p})),a.d(e,"l",(function(){return f})),a.d(e,"c",(function(){return b})),a.d(e,"i",(function(){return h})),a.d(e,"a",(function(){return g}));a("b0c0");var i=a("b775");function s(){return Object(i["a"])({url:"/device/top",method:"GET"})}function n(t){return Object(i["a"])({url:"/device",method:"GET",params:{deviceId:t}})}function r(t){return Object(i["a"])({url:"/device/list",method:"GET",params:{page:t.page-1,pageSize:t.pageSize,name:t.name,status:t.status}})}function c(t){return null==t?Object(i["a"])({url:"/device/list/count",method:"GET"}):Object(i["a"])({url:"/device/list/count",method:"GET",params:{name:t.name,status:t.status}})}function o(t){return Object(i["a"])({url:"/device",method:"POST",data:t})}function l(t){return Object(i["a"])({url:"/device",method:"PUT",data:t})}function d(t){return Object(i["a"])({url:"/device",method:"DELETE",params:{deviceId:t}})}function u(t){return Object(i["a"])({url:"/device/apply",method:"POST",data:t})}function m(t){return Object(i["a"])({url:"/device/apply",method:"GET",params:{page:t.page-1,pageSize:t.pageSize,name:t.name,status:t.status}})}function v(t){return Object(i["a"])({url:"/device/apply/list",method:"GET",params:{page:t.page-1,pageSize:t.pageSize,name:t.name,status:t.status}})}function p(t){return Object(i["a"])({url:"/device/apply",method:"PUT",params:{deviceApplyId:t.deviceApplyId,status:t.status}})}function f(t){return Object(i["a"])({url:"/device/record",method:"GET",params:{deviceId:t}})}function b(t){return Object(i["a"])({url:"/device/record",method:"POST",data:t})}function h(t){return Object(i["a"])({url:"/device/comment",method:"GET",params:{deviceId:t}})}function g(t){return Object(i["a"])({url:"/device/comment",method:"POST",data:t})}},b286:function(t,e,a){},bda2:function(t,e,a){},e067:function(t,e,a){"use strict";a("bda2")},fed2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("device"),a("div",{staticStyle:{margin:"10px"}}),a("laboratory")],1),a("el-col",{attrs:{span:14}},[a("el-card",[a("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"留言板",name:"comment"}},[a("comment")],1),a("el-tab-pane",{attrs:{label:"使用记录",name:"record"}},[a("record")],1)],1)],1)],1)],1)],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("设备详情")])]),t.device?a("div",{staticClass:"user-profile"},[a("div",{staticClass:"box-center"},[a("div",{staticClass:"image-zoom-in"},[a("div",{staticClass:"image-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.device.imageUrl,expression:"device.imageUrl"}],staticClass:"image-preview-wrapper"},[t.device.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.device.imageUrl,alt:""}}):t._e(),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){t.imageVisible=!0}}})])])])])]),a("el-dialog",{attrs:{visible:t.imageVisible},on:{"update:visible":function(e){t.imageVisible=e}}},[a("img",{attrs:{width:"100%",src:t.device.imageUrl,alt:""}})]),a("div",{staticClass:"box-center"},[a("div",{staticClass:"user-name text-center"},[t._v(t._s(t.device.name))]),a("div",{staticClass:"user-role text-center text-muted"},[a("el-tag",[t._v(" "+t._s(t._f("statusFilter")(t.device.status,"content"))+" ")])],1)])],1):t._e(),t.device?a("div",{staticClass:"user-bio"},[a("div",{staticClass:"user-education user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"education"}}),a("span",[t._v("属性")])],1),a("div",{staticClass:"user-bio-section-body"},[a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.device.propertyList,border:""}},[a("el-table-column",{attrs:{label:"属性名",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}],null,!1,2507105690)}),a("el-table-column",{attrs:{label:"属性值"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.value)+" ")]}}],null,!1,4272015574)})],1)],1)]),a("div",{staticClass:"user-skills user-bio-section"},[a("div",{staticClass:"user-bio-section-header"},[a("svg-icon",{attrs:{"icon-class":"skill"}}),a("span",[t._v("附件")])],1),a("div",{staticClass:"user-bio-section-body"},[a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.device.appendixList,border:""}},[a("el-table-column",{attrs:{label:"附件名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}],null,!1,2507105690)})],1)],1)])]):t._e()])},r=[],c=a("aa98"),o={getDevice:c["j"]},l={AVAILABLE:{css:"success",content:"可借用"},BORROWED:{css:"info",content:"已借出"},REPAIRING:{css:"warning",content:"维修中"},DAMAGED:{css:"danger",content:"已损坏"}},d={name:"Device",data:function(){return{imageVisible:!1,device:null}},filters:{statusFilter:function(t,e){return l[t][e]}},created:function(){var t=this,e=this.$route.path.substr(this.$route.path.lastIndexOf("/")+1);o.getDevice(e).then((function(e){t.device=e.data}))}},u=d,m=(a("0ad2"),a("2877")),v=Object(m["a"])(u,n,r,!1,null,"2da676e8",null),p=v.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("实验室信息")])]),t.laboratory?a("div",{staticClass:"laboratory-section"},[a("el-row",[a("el-col",{staticClass:"laboratory-property",attrs:{span:6}},[t._v("实验室名")]),a("el-col",{attrs:{span:18}},[t._v(t._s(t.laboratory.name))])],1),a("el-row",[a("el-col",{staticClass:"laboratory-property",attrs:{span:6}},[t._v("实验室地点")]),a("el-col",{attrs:{span:18}},[t._v(t._s(t.laboratory.location))])],1),a("el-row",[a("el-col",{staticClass:"laboratory-property",attrs:{span:6}},[t._v("管理员")]),a("el-col",{attrs:{span:18}},[t._v(t._s(t.laboratory.user.name))])],1),a("el-row",[a("el-col",{staticClass:"laboratory-property",attrs:{span:6}},[t._v("联系方式")]),a("el-col",{attrs:{span:18}},[t._v(t._s(t.laboratory.contact))])],1)],1):t._e()])},b=[],h={getDevice:c["j"]},g={name:"Laboratory",data:function(){return{laboratory:null}},created:function(){var t=this,e=this.$route.path.substr(this.$route.path.lastIndexOf("/")+1);h.getDevice(e).then((function(e){t.laboratory=e.data.laboratory}))}},_=g,C=(a("e067"),Object(m["a"])(_,f,b,!1,null,"72da070b",null)),y=C.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-input",{attrs:{autosize:{minRows:5,maxRows:10},type:"textarea",placeholder:"请留言"},model:{value:t.commentTemplate.comment,callback:function(e){t.$set(t.commentTemplate,"comment",e)},expression:"commentTemplate.comment"}}),a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary"},on:{click:function(e){return t.addComment()}}},[t._v("留言")]),a("el-divider",[a("i",{staticClass:"el-icon-chat-dot-square"})])],1),t._l(t.commentList,(function(e){return a("div",{key:e.deviceCommentId,staticClass:"user-activity"},[a("div",{staticClass:"post"},[a("div",{staticClass:"user-block"},[a("img",{staticClass:"img-circle",attrs:{src:e.user.avatar}}),a("span",{staticClass:"username text-muted"},[t._v(t._s(e.user.name))]),a("span",{staticClass:"description"},[t._v(t._s(t._f("parseTime")(e.commentTimestamp,"{y}-{m}-{d} {h}:{i}:{s}")))])]),a("p",[t._v(t._s(e.comment))])])])}))],2)},I=[],O={getCommentList:c["i"],addComment:c["a"]},T={data:function(){return{comment:"",commentList:[],deviceId:null,commentTemplate:{device:{deviceId:void 0},comment:null}}},created:function(){this.deviceId=this.$route.path.substr(this.$route.path.lastIndexOf("/")+1),this.getCommentList()},methods:{getCommentList:function(){var t=this;O.getCommentList(this.deviceId).then((function(e){t.commentList=e.data}))},addComment:function(){var t=this;this.commentTemplate.device.deviceId=this.deviceId,O.addComment(this.commentTemplate).then((function(){t.commentTemplate.comment=null,t.$message.success({message:"留言成功",duration:2e3}),t.getCommentList()}))}}},x=T,j=(a("634c"),Object(m["a"])(x,w,I,!1,null,"6c21db79",null)),E=j.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-timeline",t._l(t.recordList,(function(e){return a("el-timeline-item",{key:e.deviceRecordId,attrs:{timestamp:t._f("parseTime")(e.recordTimestamp,"{y}-{m}-{d} {h}:{i}:{s}"),placement:"top"}},[a("p",[t._v(t._s(e.description))]),a("div",{staticClass:"image-zoom-in"},[a("div",{staticClass:"image-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.recordImageUrl,expression:"record.recordImageUrl"}],staticClass:"image-preview-wrapper"},[e.recordImageUrl?a("img",{staticClass:"avatar",attrs:{src:e.recordImageUrl,alt:""}}):t._e(),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-zoom-in",on:{click:function(a){return t.showZoomInImage(e.recordImageUrl)}}})])])])])])})),1),a("el-dialog",{attrs:{visible:t.imageVisible},on:{"update:visible":function(e){t.imageVisible=e}}},[a("img",{attrs:{width:"100%",src:t.imageUrl,alt:""}})])],1)},k=[],S={getRecordList:c["l"]},U={data:function(){return{imageVisible:!1,imageUrl:"",deviceId:null,recordList:[]}},created:function(){var t=this;this.deviceId=this.$route.path.substr(this.$route.path.lastIndexOf("/")+1),S.getRecordList(this.deviceId).then((function(e){t.recordList=e.data}))},methods:{showZoomInImage:function(t){this.imageUrl=t,this.imageVisible=!0}}},$=U,z=(a("921c"),Object(m["a"])($,L,k,!1,null,"2885656f",null)),G=z.exports,D={name:"detail",components:{Device:p,Laboratory:y,Comment:E,Record:G},data:function(){return{activeTab:"comment"}},computed:{},created:function(){},methods:{}},R=D,V=Object(m["a"])(R,i,s,!1,null,null,null);e["default"]=V.exports}}]);