(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0acb5075"],{"6def":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"f",(function(){return s})),a.d(e,"c",(function(){return c}));a("b0c0");var o=a("b775");function n(t){return Object(o["a"])({url:"/laboratory/list",method:"GET",params:{page:t.page-1,pageSize:t.pageSize,name:t.name}})}function l(){return Object(o["a"])({url:"/laboratory/list/user",method:"GET"})}function r(t){return null==t?Object(o["a"])({url:"/laboratory/list/count",method:"GET"}):Object(o["a"])({url:"/laboratory/list/count",method:"GET",params:{name:t.name}})}function i(t){return Object(o["a"])({url:"/laboratory",method:"POST",data:t})}function s(t){return Object(o["a"])({url:"/laboratory",method:"PUT",data:t})}function c(t){return Object(o["a"])({url:"/laboratory",method:"DELETE",params:{laboratoryId:t}})}},edea:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"实验室名",clearable:""},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getList}},[t._v("搜索")])],1),"NORMAL"!==t.role?a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.showDialog("create")}}},[t._v("添加实验室")])],1):t._e()],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.laboratoryList,border:""}},[a("el-table-column",{attrs:{label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.laboratoryId)+" ")]}}])}),a("el-table-column",{attrs:{label:"实验室名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),a("el-table-column",{attrs:{label:"实验室地点"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.location)+" ")]}}])}),a("el-table-column",{attrs:{label:"管理员"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.user.name)+" ")]}}])}),a("el-table-column",{attrs:{label:"联系方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.contact)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.user.userId===t.userId?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.showDialog("update",e.row)}}},[t._v("修改")]):t._e(),e.row.user.userId===t.userId||"SUPER_ADMIN"===t.role?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deleteData(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),a("el-pagination",{staticStyle:{margin:"40px 0"},attrs:{"page-sizes":[5,10,15,20],"page-size":t.listQuery.pageSize,total:t.totalSize,background:"",layout:"sizes, prev, pager, next"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:t.dialogTitleMap[t.dialogStatus],visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.template,"label-position":"left"}},[a("el-form-item",{attrs:{label:"实验室名"}},[a("el-input",{model:{value:t.template.name,callback:function(e){t.$set(t.template,"name",e)},expression:"template.name"}})],1),a("el-form-item",{attrs:{label:"实验室地点"}},[a("el-input",{model:{value:t.template.location,callback:function(e){t.$set(t.template,"location",e)},expression:"template.location"}})],1),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{model:{value:t.template.contact,callback:function(e){t.$set(t.template,"contact",e)},expression:"template.contact"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("确认")])],1)],1)],1)},n=[],l=a("5530"),r=(a("b0c0"),a("6def")),i=a("2f62"),s={getLaboratoryList:r["d"],countLaboratoryList:r["b"],addLaboratory:r["a"],updateLaboratory:r["f"],deleteLaboratory:r["c"]},c={data:function(){return{listLoading:!0,listQuery:{page:1,pageSize:10,name:void 0},totalSize:void 0,laboratoryList:[],dialogFormVisible:!1,dialogStatus:"create",dialogTitleMap:{update:"修改实验室信息",create:"添加实验室"},template:{laboratoryId:void 0,name:"",location:"",user:{name:this.$store.getters.name},contact:""}}},created:function(){this.getList()},computed:Object(l["a"])({},Object(i["b"])(["role","userId"])),methods:{getList:function(){var t=this;s.countLaboratoryList(this.listQuery).then((function(e){t.totalSize=e.data})),this.listLoading=!0,s.getLaboratoryList(this.listQuery).then((function(e){t.laboratoryList=e.data})),this.listLoading=!1},handleSizeChange:function(t){this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},showDialog:function(t,e){this.template="create"===t?{laboratoryId:void 0,name:"",location:"",user:{name:this.$store.getters.name},contact:""}:Object.assign({},e),this.dialogStatus=t,this.dialogFormVisible=!0},createData:function(){var t=this;s.addLaboratory(this.template).then((function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"Success",message:"添加成功",type:"success",duration:2e3})})).catch((function(t){console.log(t)}))},updateData:function(){var t=this;s.updateLaboratory(this.template).then((function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"Success",message:"修改成功",type:"success",duration:2e3})})).catch((function(t){console.log(t)}))},deleteData:function(t){var e=this;s.deleteLaboratory(t.laboratoryId).then((function(){e.getList(),e.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3})})).catch((function(t){console.log(t)}))}}},u=c,d=a("2877"),b=Object(d["a"])(u,o,n,!1,null,null,null);e["default"]=b.exports}}]);