(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c4ec9a4"],{"157c":function(t,e,a){},"2d11":function(t,e,a){},"3cbc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pan-item",style:{zIndex:t.zIndex,height:t.height,width:t.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[t._t("default")],2)]),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+t.image+")"}})])},r=[],n=(a("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),c=n,u=(a("4d9d"),a("2877")),i=Object(u["a"])(c,s,r,!1,null,"70365f63",null);e["a"]=i.exports},"4d9d":function(t,e,a){"use strict";a("157c")},"9a76":function(t,e,a){"use strict";a("2d11")},ecac:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[t.user?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("user-card",{attrs:{user:t.user}})],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"账号设置",name:"account"}},[a("account",{attrs:{user:t.user}})],1)],1)],1)],1)],1)],1):t._e()])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("个人简介")])]),a("div",{staticClass:"user-profile"},[a("div",{staticClass:"box-center"},[a("pan-thumb",{attrs:{image:t.user.avatar,height:"100px",width:"100px",hoverable:!1}})],1),a("div",{staticClass:"box-center"},[a("div",{staticClass:"user-name text-center"},[t._v(t._s(t.user.name))]),a("div",{staticClass:"user-role text-center text-muted"},[a("el-tag",[t._v(" "+t._s(t._f("roleFilter")(t.user.role))+" ")])],1),a("div",{staticClass:"user-role text-center"},[t._v(t._s(t.user.email))])])])])},c=[],u=a("3cbc"),i={SUPER_ADMIN:"超级管理员",ADMIN:"管理员",NORMAL:"普通用户"},l={components:{PanThumb:u["a"]},props:{user:{type:Object,default:function(){return{name:"",email:"",avatar:"",role:""}}}},data:function(){return{}},filters:{roleFilter:function(t){return i[t]}}},o=l,d=(a("9a76"),a("2877")),p=Object(d["a"])(o,n,c,!1,null,"06768c0e",null),f=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",[a("el-upload",{attrs:{action:"http://127.0.0.1:8080/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[a("el-button",[t._v("更新头像")])],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:t.user.name,callback:function(e){t.$set(t.user,"name","string"===typeof e?e.trim():e)},expression:"user.name"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password",placeholder:"不填表示使用旧密码"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password","string"===typeof e?e.trim():e)},expression:"user.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认修改")])],1)],1)},h=[],v=(a("b0c0"),a("c24f")),b={props:{user:{type:Object,default:function(){return{userId:void 0,name:"",email:"",avatar:"",role:"",password:""}}}},data:function(){return{}},created:function(){this.user.password=null},methods:{submit:function(){var t=this;Object(v["g"])({userId:this.user.userId,name:this.user.name,password:this.user.password}).then((function(e){t.$store.dispatch("user/getInfo"),t.$message({message:"修改个人信息成功",type:"success",duration:3e3})}))},handleAvatarSuccess:function(t){var e=this;this.user.avatar=t.data,Object(v["g"])({userId:this.user.userId,avatar:t.data}).then((function(t){e.$store.dispatch("user/getInfo")}))}}},g=b,x=Object(d["a"])(g,m,h,!1,null,null,null),_=x.exports,w={name:"Profile",components:{UserCard:f,Account:_},data:function(){return{user:null,activeTab:"account"}},computed:{},created:function(){var t=this;Object(v["b"])().then((function(e){t.user=e.data})).catch((function(t){console.log(t)}))},methods:{}},y=w,C=Object(d["a"])(y,s,r,!1,null,null,null);e["default"]=C.exports}}]);